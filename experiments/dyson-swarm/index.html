<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dyson Swarm</title>
  <meta name="description" content="Swipe a full circle around the Sun. Unveil FCC-approved Dyson Swarm completion. Reveal a collectible civilization card." />
  <meta property="og:title" content="Dyson Swarm" />
  <meta property="og:description" content="Swipe a full circle. Reveal your civilization card." />
  <link rel="stylesheet" href="../../shared/styles/base.css" />
  <link rel="stylesheet" href="../../shared/styles/cards.css" />
  <link rel="stylesheet" href="../../shared/styles/scene-assets.css" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <main class="container" style="padding-top: 36px;">
    <section class="view landing-view active" id="landingView" aria-label="Landing">
      <header class="lab-header start-wrap">
        <div class="brand">
          <div class="sigil" aria-hidden="true"></div>
          <div>
            <div class="kicker">SOUL GAMES STUDIOS</div>
            <h1 class="title">Dyson Swarm</h1>
          </div>
        </div>
        <p class="subtitle">Trace the orbit. Finish the swarm. Meet whoever meets you first.</p>
        <button class="btn btn-primary start-btn" id="startBtn" type="button">Enter orbit</button>
      </header>
    </section>

    <section class="view play-view" id="playView" aria-label="Dyson flow">
    <header class="lab-header">
      <div class="brand">
        <div class="sigil" aria-hidden="true"></div>
        <div>
          <div class="kicker">SOUL GAMES STUDIOS</div>
          <h1 class="title">Dyson Swarm</h1>
        </div>
      </div>
      <p class="subtitle">Trace the orbit. Finish the swarm. Meet whoever meets you first.</p>
    </header>

    <section class="card lab" aria-label="Dyson Lab">
      <div class="lab-grid">
        <div class="panel">
          <div class="panel-title">Orbital Assembly</div>
          <p class="panel-body">One action: swipe a full circle around the Sun.</p>

          <div class="orbit-wrap">
            <div class="orbit" id="orbit" aria-label="Swipe ring">
              <div class="scene-layer" aria-hidden="true">
                <div class="scene-panel" style="top:16%;left:12%;--drift-dur:8s"></div>
                <div class="scene-panel" style="top:62%;left:78%;--drift-dur:10s"></div>
                <div class="scene-satellite" style="top:18%;left:74%;--orbit-dur:13s"></div>
              </div>

              <div class="sun" id="sun" aria-hidden="true"></div>
              <div class="orbit-progress" id="orbitProgress" aria-hidden="true"></div>
              <div class="orbit-hint" id="orbitHint">Swipe around the Sun</div>

              <button class="glitch-node" data-easter="1" style="right:14px;top:14px" aria-label="Hidden glitch"></button>
              <button class="glitch-node" data-easter="1" style="left:16px;bottom:20px" aria-label="Hidden glitch"></button>
            </div>
            <div class="hint">Complete 360° to unveil. Clean, calm, and slightly ridiculous.</div>
          </div>
        </div>

        <div class="panel" id="revealPanel" hidden>
          <div class="panel-title">Unveiled</div>

          <div class="status">
            <div class="status__row"><span class="status__k">FCC STATUS</span><span class="status__v">APPROVED</span></div>
            <div class="status__row"><span class="status__k">DATE</span><span class="status__v">DEC 2026</span></div>
            <div class="status__row"><span class="status__k">KARDASHEV</span><span class="status__v">TYPE II (ACHIEVED)</span></div>
          </div>

          <div class="sg-card" id="cardEl">
            <div class="sg-card__meta">
              <div id="seriesEl">DYSON_SWARM</div>
              <div class="sg-card__id" id="idEl">DYSON_SWARM-000</div>
            </div>
            <div class="sg-card__name" id="nameEl">—</div>
            <div class="sg-card__short" id="shortEl">—</div>
            <div class="sg-card__desc" id="descEl">—</div>
            <div class="sg-card__img" id="imgEl" aria-hidden="true"></div>
          </div>

          <div class="controls">
            <button class="btn" id="nextBtn" type="button">New civilization</button>
            <button class="btn btn-primary" id="shareBtn" type="button">Download card</button>
            <button class="btn" id="restartBtn" type="button">Start over</button>
          </div>
          <div class="small">The card is the artifact. (Look for a tiny glitch in plain sight.)</div>

          <div class="capture card-soft" id="captureBox" hidden>
            <div class="capture__title">Get future card drops</div>
            <div class="capture__copy">Soft signal only. No spam. Unsubscribe anytime.</div>
            <form id="emailForm" class="capture__form" novalidate>
              <input id="emailInput" type="email" placeholder="you@email.com" aria-label="Email" required />
              <button type="submit">Join</button>
            </form>
            <div class="capture__note" id="captureNote">(Connect this form to ConvertKit when ready.)</div>
          </div>

          <canvas id="shareCanvas" width="1080" height="1350" hidden></canvas>
        </div>
      </div>
    </section>
    </section>

    <dialog id="easterDialog" class="easter">
      <form method="dialog" class="easter__panel" id="riddleForm">
        <h3>Signal Detected</h3>
        <p>Riddle: When money becomes mass and energy, what remains priceless?</p>
        <input id="riddleInput" type="text" placeholder="your answer" autocomplete="off" />
        <div class="easter__actions">
          <button value="cancel">Close</button>
          <button id="riddleSubmit" value="default">Unlock</button>
        </div>
        <small id="riddleFeedback">Tip: one word is enough.</small>
      </form>
    </dialog>

    <footer class="footer">
      <span class="muted">Calm tech. No pressure. No doom.</span>
    </footer>

    <script type="module" src="./app.js"></script>
  </main>
</body>
</html>
